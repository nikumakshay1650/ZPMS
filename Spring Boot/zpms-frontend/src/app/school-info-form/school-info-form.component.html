<!-- school-form.component.html -->
<div class="container py-4"> <!-- Overall container, centers content and adds padding -->

  <!-- Form Section -->
  <!-- 'justify-content-center' centers the column within this row -->
  <div class="row justify-content-center mb-5">
    <!-- 'col-md-10 col-lg-8' defines form width on medium/large screens, centered by parent -->
    <!-- On screens < md (768px), this becomes full-width, making the form responsive -->
    <div class="col-md-10 col-lg-8">
      <form [formGroup]="schoolForm" (ngSubmit)="onSubmit()">
        <!-- 'card shadow-lg' creates an attractive, elevated card appearance -->
        <div class="card shadow-lg">
          <div class="card-body p-4"> <!-- Padding within the card, SCSS adjusts this for mobile -->
            <h4 class="card-title text-center mb-4">рд╢рд╛рд│рд╛ рдорд╛рд╣рд┐рддреА рдлреЙрд░реНрдо</h4>

            <!-- 'row g-3' provides spacing between form field columns -->
            <div class="row g-3">
              <!-- Each 'col-md-6' will stack vertically on screens < md (768px) -->
              <!-- This is the primary responsive behavior for the form fields -->
              <div class="col-md-6">
                <label for="date" class="form-label">рддрд╛рд░реАрдЦ</label>
                <input type="date" id="date" class="form-control" formControlName="date" required />
                <div *ngIf="f['date'].invalid && (f['date'].dirty || f['date'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['date'].errors?.['required']">рддрд╛рд░реАрдЦ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="organizationName" class="form-label">рд╕рдВрд╕реНрдереЗрдЪреЗ рдирд╛рд╡</label>
                <input type="text" id="organizationName" class="form-control" formControlName="organizationName" required />
                 <div *ngIf="f['organizationName'].invalid && (f['organizationName'].dirty || f['organizationName'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['organizationName'].errors?.['required']">рд╕рдВрд╕реНрдереЗрдЪреЗ рдирд╛рд╡ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['organizationName'].errors?.['minlength']">рд╕рдВрд╕реНрдереЗрдЪреЗ рдирд╛рд╡ рдХрд┐рдорд╛рди рей рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡реЗ.</span>
                  <span *ngIf="f['organizationName'].errors?.['maxlength']">рд╕рдВрд╕реНрдереЗрдЪреЗ рдирд╛рд╡ резрежреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡реЗ.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="schoolName" class="form-label">рд╢рд╛рд│реЗрдЪреЗ рдирд╛рд╡</label>
                <input type="text" id="schoolName" class="form-control" formControlName="schoolName" required />
                <div *ngIf="f['schoolName'].invalid && (f['schoolName'].dirty || f['schoolName'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['schoolName'].errors?.['required']">рд╢рд╛рд│реЗрдЪреЗ рдирд╛рд╡ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['schoolName'].errors?.['minlength']">рд╢рд╛рд│реЗрдЪреЗ рдирд╛рд╡ рдХрд┐рдорд╛рди рей рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡реЗ.</span>
                  <span *ngIf="f['schoolName'].errors?.['maxlength']">рд╢рд╛рд│реЗрдЪреЗ рдирд╛рд╡ резрежреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡реЗ.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="udiseNumber" class="form-label">UDISE рдХреНрд░рдордВрдХ</label>
                <input type="text" id="udiseNumber" class="form-control" formControlName="udiseNumber" required />
                <div *ngIf="f['udiseNumber'].invalid && (f['udiseNumber'].dirty || f['udiseNumber'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['udiseNumber'].errors?.['required']">UDISE рдХреНрд░рдордВрдХ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['udiseNumber'].errors?.['pattern']">UDISE рдХреНрд░рдордВрдХ резрез рдЕрдВрдХреА рдЕрд╕рд╛рд╡рд╛.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="googleLocationLink" class="form-label">Google рд▓реЛрдХреЗрд╢рди рд▓рд┐рдВрдХ</label>
                <input type="url" id="googleLocationLink" class="form-control" formControlName="googleLocationLink" placeholder="https://maps.google.com/..." required />
                <div *ngIf="f['googleLocationLink'].invalid && (f['googleLocationLink'].dirty || f['googleLocationLink'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['googleLocationLink'].errors?.['required']">Google рд▓реЛрдХреЗрд╢рди рд▓рд┐рдВрдХ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['googleLocationLink'].errors?.['pattern']">рдХреГрдкрдпрд╛ рд╡реИрдз URL рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛ (рдЙрджрд╛. https://...).</span>
                  <span *ngIf="f['googleLocationLink'].errors?.['invalidGoogleLink']">рдХреГрдкрдпрд╛ рд╡реИрдз Google Maps рд▓рд┐рдВрдХ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛ (https://maps.google.com/... or https://www.google.com/maps/...).</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="category" class="form-label">рд╢реНрд░реЗрдгреА</label>
                <select id="category" class="form-select" formControlName="category" required>
                  <option value="" disabled selected>рд╢реНрд░реЗрдгреА рдирд┐рд╡рдбрд╛</option>
                  <option value="Primary">рдкреНрд░рд╛рдердорд┐рдХ</option>
                  <option value="Secondary">рдорд╛рдзреНрдпрдорд┐рдХ</option>
                  <option value="Higher Secondary">рдЙрдЪреНрдЪ рдорд╛рдзреНрдпрдорд┐рдХ</option>
                </select>
                <div *ngIf="f['category'].invalid && (f['category'].dirty || f['category'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['category'].errors?.['required']">рд╢реНрд░реЗрдгреА рдирд┐рд╡рдбрдгреЗ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="fullAddress" class="form-label">рдкреВрд░реНрдг рдкрддреНрддрд╛</label>
                <textarea id="fullAddress" rows="2" class="form-control" formControlName="fullAddress" required></textarea>
                <div *ngIf="f['fullAddress'].invalid && (f['fullAddress'].dirty || f['fullAddress'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['fullAddress'].errors?.['required']">рдкреВрд░реНрдг рдкрддреНрддрд╛ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['fullAddress'].errors?.['minlength']">рдкреВрд░реНрдг рдкрддреНрддрд╛ рдХрд┐рдорд╛рди резреж рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡рд╛.</span>
                  <span *ngIf="f['fullAddress'].errors?.['maxlength']">рдкреВрд░реНрдг рдкрддреНрддрд╛ реирелреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡рд╛.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="taluka" class="form-label">рддрд╛рд▓реБрдХрд╛</label>
                <input type="text" id="taluka" class="form-control" formControlName="taluka" required />
                <div *ngIf="f['taluka'].invalid && (f['taluka'].dirty || f['taluka'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['taluka'].errors?.['required']">рддрд╛рд▓реБрдХрд╛ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['taluka'].errors?.['minlength']">рддрд╛рд▓реБрдХрд╛ рдХрд┐рдорд╛рди рей рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡рд╛.</span>
                  <span *ngIf="f['taluka'].errors?.['maxlength']">рддрд╛рд▓реБрдХрд╛ релреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡рд╛.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="district" class="form-label">рдЬрд┐рд▓реНрд╣рд╛</label>
                <input type="text" id="district" class="form-control" formControlName="district" required />
                <div *ngIf="f['district'].invalid && (f['district'].dirty || f['district'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['district'].errors?.['required']">рдЬрд┐рд▓реНрд╣рд╛ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['district'].errors?.['minlength']">рдЬрд┐рд▓реНрд╣рд╛ рдХрд┐рдорд╛рди рей рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡рд╛.</span>
                  <span *ngIf="f['district'].errors?.['maxlength']">рдЬрд┐рд▓реНрд╣рд╛ релреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡рд╛.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="pincode" class="form-label">рдкрд┐рдирдХреЛрдб</label>
                <input type="text" id="pincode" class="form-control" formControlName="pincode" pattern="^\d{6}$" maxlength="6" required />
                <div *ngIf="f['pincode'].invalid && (f['pincode'].dirty || f['pincode'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['pincode'].errors?.['required']">рдкрд┐рдирдХреЛрдб рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['pincode'].errors?.['pattern']">рд╡реИрдз рем-рдЕрдВрдХреА рдкрд┐рдирдХреЛрдб рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="headmastersName" class="form-label">рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХрд╛рдЪреЗ рдирд╛рд╡</label>
                <input type="text" id="headmastersName" class="form-control" formControlName="headmastersName" required />
                <div *ngIf="f['headmastersName'].invalid && (f['headmastersName'].dirty || f['headmastersName'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['headmastersName'].errors?.['required']">рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХрд╛рдЪреЗ рдирд╛рд╡ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['headmastersName'].errors?.['minlength']">рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХрд╛рдЪреЗ рдирд╛рд╡ рдХрд┐рдорд╛рди рей рдЕрдХреНрд╖рд░реЗ рдЕрд╕рд╛рд╡реЗ.</span>
                  <span *ngIf="f['headmastersName'].errors?.['maxlength']">рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХрд╛рдЪреЗ рдирд╛рд╡ резрежреж рдЕрдХреНрд╖рд░рд╛рдВрдкреЗрдХреНрд╖рд╛ рдЬрд╛рд╕реНрдд рдирд╕рд╛рд╡реЗ.</span>
                </div>
              </div>

              <div class="col-md-6">
                <label for="headmastersMobileNumber" class="form-label">рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХ рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░</label>
                <input type="tel" id="headmastersMobileNumber" class="form-control" formControlName="headmastersMobileNumber" pattern="^[6-9]\d{9}$" maxlength="10" required />
                <div *ngIf="f['headmastersMobileNumber'].invalid && (f['headmastersMobileNumber'].dirty || f['headmastersMobileNumber'].touched)" class="text-danger small mt-1">
                  <span *ngIf="f['headmastersMobileNumber'].errors?.['required']">рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░ рдЖрд╡рд╢реНрдпрдХ рдЖрд╣реЗ.</span>
                  <span *ngIf="f['headmastersMobileNumber'].errors?.['pattern']">рд╡реИрдз резреж-рдЕрдВрдХреА рдореЛрдмрд╛рдИрд▓ рдирдВрдмрд░ рдкреНрд░рд╡рд┐рд╖реНрдЯ рдХрд░рд╛ (рем, рен, рео, рдХрд┐рдВрд╡рд╛ реп рдиреЗ рд╕реБрд░реВ рд╣реЛрдгрд╛рд░рд╛).</span>
                </div>
              </div>
            </div>

            <!-- Action Buttons -->
            <!-- This div uses .button-container which your SCSS makes responsive -->
            <div class="button-container mt-4 pt-2">
              <button type="submit" class="btn btn-primary" [disabled]="schoolForm.invalid">рд╕рдмрдорд┐рдЯ рдХрд░рд╛</button>
              <button type="button" (click)="onReset()" class="btn btn-outline-secondary">рд░реАрд╕реЗрдЯ рдХрд░рд╛</button>
            </div>

          </div>
        </div>
      </form>
    </div>
  </div>

  <!-- Report Table -->
  <div class="container report-section"> <!-- Bootstrap .container is responsive -->
    <h4 class="mb-4 report-title text-center">рд╢рд╛рд│рд╛ рдорд╛рд╣рд┐рддреА рдЕрд╣рд╡рд╛рд▓</h4>
    <!-- '.table-responsive' is ESSENTIAL for table responsiveness on mobile -->
    <div class="table-responsive">
      <table class="table table-bordered table-hover align-middle text-center">
        <thead class="table-light">
          <tr>
            <th>рдХреНрд░.</th>
            <th>рддрд╛рд░реАрдЦ</th>
            <th>рд╕рдВрд╕реНрдереЗрдЪреЗ рдирд╛рд╡</th>
            <th>рд╢рд╛рд│реЗрдЪреЗ рдирд╛рд╡</th>
            <th>UDISE</th>
            <th>Google Link</th>
            <th>рд╢реНрд░реЗрдгреА</th>
            <th>рдкрддреНрддрд╛</th>
            <th>рддрд╛рд▓реБрдХрд╛</th>
            <th>рдЬрд┐рд▓реНрд╣рд╛</th>
            <th>рдкрд┐рдирдХреЛрдб</th>
            <th>рдореБрдЦреНрдпрд╛рдзреНрдпрд╛рдкрдХ</th>
            <th>рдореЛрдмрд╛рдИрд▓</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="!data || data.length === 0">
              <td colspan="14" class="text-center p-4 text-muted">рдХреЛрдгрддрд╛рд╣реА рдбреЗрдЯрд╛ рдЙрдкрд▓рдмреНрдз рдирд╛рд╣реА. рдХреГрдкрдпрд╛ рдлреЙрд░реНрдо рднрд░рд╛.</td>
          </tr>
          <tr *ngFor="let item of data; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ item.date | date: 'dd/MM/yyyy' }}</td>
            <td>{{ item.organizationName }}</td>
            <td>{{ item.schoolName }}</td>
            <td>{{ item.udiseNumber }}</td>
            <td><a [href]="item.googleLocationLink" target="_blank" rel="noopener noreferrer" title="{{item.googleLocationLink}}">Link</a></td>
            <td>{{ item.category }}</td>
            <td>{{ item.fullAddress }}</td>
            <td>{{ item.taluka }}</td>
            <td>{{ item.district }}</td>
            <td>{{ item.pincode }}</td>
            <td>{{ item.headmastersName }}</td>
            <td>{{ item.headmastersMobileNumber }}</td>
            <td>
              <button class="btn btn-sm btn-outline-warning me-1" (click)="editData(item, i)" title="Edit">тЬПя╕П</button>
              <button class="btn btn-sm btn-outline-danger" (click)="deleteData(i)" title="Delete">ЁЯЧСя╕П</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>