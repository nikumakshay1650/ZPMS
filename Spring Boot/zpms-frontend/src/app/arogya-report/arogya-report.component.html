<div class="report-container card">
  <div class="card-header">
    <h3>आरोग्य केंद्र चेक लिस्ट-रिपोर्ट</h3>
  </div>
  <div class="card-body">
    <!-- Filter Section -->
    <div class="filter-section">
      <form [formGroup]="filterForm" class="filter-form">
        <div class="form-group">
          <label>तालुका निवडा (PHC Name):</label>
          <select formControlName="taluka" class="form-control">
             <option *ngFor="let taluka of talukas$ | async" [value]="taluka">{{ taluka }}</option>
          </select>
        </div>
        <div class="form-group">
          <label>From:</label>
          <input type="date" formControlName="fromDate" class="form-control">
        </div>
        <div class="form-group">
          <label>To:</label>
          <input type="date" formControlName="toDate" class="form-control">
        </div>
        <div class="filter-actions">
           <button (click)="applyFilters()" class="btn btn-show">Show</button>
           <button (click)="resetFilters()" class="btn btn-remove">Remove</button>
        </div>
      </form>
    </div>

    <!-- Table Actions -->
    <div class="table-controls">
        <button (click)="exportToExcel()" class="btn btn-excel">Excel</button>
        <div class="search-box">
          <label for="search">शोधा:</label>
          <input type="text" id="search" [(ngModel)]="searchTerm" (keyup)="applySearch()" placeholder="Search...">
        </div>
    </div>

    <!-- Data Table -->
    <div class="table-responsive">
      <table class="table">
        <thead>
          <tr>
            <th>अ. क्र.</th>
            <th>PHC नाव (तालुका)</th>
            <th>उप-केंद्र नाव</th>
            <th>महिना</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of filteredData; let i = index">
            <td>{{ i + 1 }}</td>
            <td>{{ item.phcName }}</td>
            <td>{{ item.subcenterName }}</td>
            <td>{{ item.monthName }}</td>
            <td>
              <button (click)="fillRemainingInfo(item)" class="btn btn-action">
                <i class="icon-edit"></i> उर्वरित माहिती भरा
              </button>
            </td>
          </tr>
          <tr *ngIf="filteredData.length === 0">
             <td colspan="5" class="text-center">No records found matching your criteria.</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>